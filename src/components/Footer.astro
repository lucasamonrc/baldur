<footer
	class="mt-24 border-t-2 border-gray-200 pt-6 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-0.5"
>
	<p class="text-sm text-gray-400">
		<span class="font-pixel text-xl mr-1">lucasamonrc.dev</span>
		â€” last updated
		<a
			href={`https://github.com/lucasamonrc/baldur/commit`}
			class="underline"
		>
			<time id="last-updated" datetime={Date.now().toString()}>
				{
					new Date().toLocaleString("en-US", {
						timeZone: "America/New_York",
						month: "short",
						day: "numeric",
					})
				}
			</time>
		</a>

		<p class="text-sm text-gray-400">
			email: <a href="mailto:hello@lucasamonrc.dev" class="underline">
				hello@lucasamonrc.dev
			</a>
		</p>
	</p>

	<script>
		const time = document.querySelector("#last-updated")!;
		const date = new Date(parseInt(time.getAttribute("datetime")!));

		const diff = Date.now() - date.getTime();
		const diffInMinutes = Math.floor(diff / 1000 / 60);
		const diffInHours = Math.floor(diff / 1000 / 60 / 60);
		const diffInDays = Math.floor(diff / 1000 / 60 / 60 / 24);

		const pluralize = (num: number, word: string) =>
			`${num} ${word}${num === 1 ? "" : "s"}`;

		if (diffInMinutes < 1) {
			time.textContent = "just now";
		} else if (diffInMinutes < 60) {
			time.textContent = pluralize(diffInMinutes, "minute") + " ago";
		} else if (diffInHours < 24) {
			time.textContent = pluralize(diffInHours, "hour") + " ago";
		} else {
			time.textContent = pluralize(diffInDays, "day") + " ago";
		}
	</script>
</footer>
